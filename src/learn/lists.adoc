---
title: Lists
date: 2018-10-26
description:
  Practice with big-O notation and analysis of two different list
  implementations.
---

[[ZrRhHAiZmjGVCqKzTkVDkwpNGYoRBTci]]
== !

[.janini.smallest.compiler]
--
++++
<div class="message">Lists</div>
++++
....
....
--

[[UgJrBAbxmpaEtUFaigwcjbLnlTfcIOoF]]
== Review: Algorithm Analysis

[quote]
//
____
//
https://en.wikipedia.org/wiki/Analysis_of_algorithms[Algorithm analysis]:
//
the determination of the computational complexity of algorithms, that is the
amount of time, storage and/or other resources necessary to execute them.
//
____

[[bzGJKlpimKGIHSRpMdozAZQHDQCfHegP]]
== Review: At The Limit

[.lead]
//
We're usually want to analyze an algorithm in the general case, rather than for
a specific set of input.

[.s]
//
* How does the algorithm perform on arbitrarily difficult or large inputs?
//
* What are the best, average, and worst-case running times?
//
* *How is the algorithm's performance related to its inputs?*

[[wZpYuIQdhBkDdYLdffvSWUUvbhDCqzoG]]
== Review: Big-O Notation

[quote]
//
____
//
https://en.wikipedia.org/wiki/Big_O_notation#Product[Big-O notation]
//
is a mathematical notation that describes the limiting behavior of a function
when the argument tends towards a particular value or infinity.
//
____

Put another way: we want to _estimate_ what happens as the problem gets really,
really hard.

[[EQRiDkxGqVDXvndIjCapEccitPnbvEGQ]]
== Review: Big-O Notation

image::https://i.stack.imgur.com/WcBRI.png[role='mx-auto',width=600]

[[ZNOikwniBxwwdnfIrXpGZeDunUmkcdRQ]]
== Data Structure Tradeoffs

[.lead]
//
Depending on how we structure data different implementations of the _same_
interface can have different performance characteristics.

[.s]
//
* We'll start by looking at this with _lists_
//
* Lists that store items using arrays have *fast* (O(1)) lookups but _slow_
(O(n)) modifications
//
* Lists that store items using linked lists have _slow_ lookups (O(n)) but some
insertions are *fast* (O(1))
//
* Both also present different memory usage tradeoffs

[[IRjECqRugdjLLGMBzUFyfYJUfZJxxoVG]]
== Array Operation Runtime

[source,java]
----
int[] values = new int[10];
----

[.lead]
//
At this point the only data structure we've discussed is the _array_.

[.s]
//
* *Good*: looking up an element in an array is O(1) footnote:[or constant time].
//
* *Bad*: the size of a Java array cannot be changed once it is created.

[[FLrMUeaPPdghfXdVtAoFhyJeHBGeBJfV]]
== Lists

[.lead]
//
What you have been building on the last few homework problems is a more general
data structure called a _list_.

Lists are an ordered data structure that allow us to:

[.s]
//
* Get and set values at any index (like an array)
//
* Add or remove values at any index (this is new)

[[DPNiZdCroOfieMLMAdqnxFLqxcwBNdOU]]
== ! Java List Interface
++++
<div class="embed-responsive embed-responsive-4by3">
  <iframe class="full embed-responsive-item" src="https://docs.oracle.com/javase/10/docs/api/java/util/List.html"></iframe>
</div>
++++

[[GgjDBubcXoMJtfILfeFlevdxnkSdDZFc]]
== Our List Interface

[source,java]
----
interface SimpleList {
  /** Get the object at this index. */
  public Object get(int index);
  /** Set the object at this index to the passed element. */
  public void set(int index, Object element);
  /** Add the object at the specified location in the list. */
  public void add(int index, Object element);
  /** Remove and return the object at the specified location in the list. */
  public Object remove(int index);
  /** Return the number of elements in the list. */
  public int size();
}
----

(The official Java one contains a bunch of convenience methods that we don't
want.)

[[xgwNeDXDUnbIHYdVeBQSnMWUgdQZRKeO]]
== ! SimpleArrayList

[.janini.smallest.compiler]
....
interface SimpleList {
  public Object get(int index);
  public void set(int index, Object element);
  public void add(int index, Object element);
  public Object remove(int index);
  public int size();
}
public class SimpleArrayList implements SimpleList {
    private Object[] array;

    SimpleArrayList(Object[] originalArray) {
        if (originalArray != null) {
            array = new Object[originalArray.length];
            for (int i = 0; i < originalArray.length; i++) {
                array[i] = originalArray[i];
            }
        }
    }

    public Object get(int index) {
        if (index < 0 || index >= array.length) {
            return null;
        }
        return array[index];
    }
    public void set(int index, Object element) {
        if (index < 0 || index >= array.length) {
            return;
        }
        array[index] = element;
    }

    public int size() {
        return array.length;
    }

    public Object remove(int removeIndex) {
        if (removeIndex < 0 || removeIndex >= array.length) {
            return null;
        }

        Object toReturn = array[removeIndex];

        Object[] newArray = new Object[array.length - 1];
        int originalIndex = 0;
        for (int newIndex = 0; newIndex < newArray.length; newIndex++) {
            // Skip the spot that we are removing
            if (newIndex == removeIndex) {
                originalIndex++;
            }
            newArray[newIndex] = array[originalIndex];
            originalIndex++;
        }
        array = newArray;
        return toReturn;
    }
}
public class Example {
  public static void main(String[] unused) {
    SimpleList simpleList = new SimpleArrayList(new Integer[] { 1, 2 });
    System.out.println(simpleList.get(0));
  }
}
....
[[jjuOzugQvkSIeJBnLlfaTmqivAFVUVZa]]
[.ss]
== Another Option: Linked Lists

[source,java,role='smallest']
----
public class Item {
  private Object value;
  private Item next;
  Item(Object setValue, Item setNext) {
    value = setValue;
    next = setNext;
  }
}
----

<<<

[[bvukTzGvgbKQdWJiVcbVkzvCLveVTLcR]]
[.ss]
== Another Option: Linked Lists

[source,java,role='smallest']
----
public class Item {
  private Object value;
  private Item next;
  Item(Object setValue, Item setNext) {
    value = setValue;
    next = setNext;
  }
}
Item items = new Item((Integer) 0, null);
----

<<<

++++
<div class="digraph small TB">
  Item [ label = "Item|0" ]
  items -> Item
</div>
++++

[[LNBNtXZglNoDtVpnSUNLBXxXDxLZRmDE]]
[.ss]
== Another Option: Linked Lists

[source,java,role='smallest']
----
public class Item {
  private Object value;
  private Item next;
  Item(Object setValue, Item setNext) {
    value = setValue;
    next = setNext;
  }
}
Item items = new Item((Integer) 0, null);
items = new Item((Integer) 8, items);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item [ label = "Item|0" ]
  Item8 [ label = "Item|8" ]
  items -> Item8
  Item8 -> Item
</div>
++++

[[WAdJPunuCYPRWbuZQvICJKkHNiUoiBsw]]
[.ss]
== Another Option: Linked Lists

[source,java,role='smallest']
----
public class Item {
  private Object value;
  private Item next;
  Item(Object setValue, Item setNext) {
    value = setValue;
    next = setNext;
  }
}
Item items = new Item((Integer) 0, null);
items = new Item((Integer) 8, items);
items = new Item((Integer) 5, items);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item [ label = "Item|0" ]
  Item8 [ label = "Item|8" ]
  Item5 [ label = "Item|5" ]
  items -> Item5
  Item5 -> Item8
  Item8 -> Item
</div>
++++

[[uvyuFIghbYXbXzMNglHaMMhbqqXqKGYL]]
== Another Option: Linked Lists

[source,java,role='smallest']
----
interface SimpleList {
  public Object get(int index);
  public void set(int index, Object element);
  public void add(int index, Object element);
  public Object remove(int index);
  public int size();
}
public class SimpleLinkedList implements SimpleList {
  class Item {
    Object value;
    Item next;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
  private Item start;
}
----

[[xsaqFUCXGdWBcvgSrwKjsLHWsYrNDLlh]]
== ! `LinkedList` Example

[.janini.smallest.compiler]
....
interface SimpleList {
  public Object get(int index);
  public void set(int index, Object element);
  public void add(int index, Object element);
  public Object remove(int index);
  public int size();
}
public class SimpleLinkedList implements SimpleList {
  class Item {
    Object value;
    Item next;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
  private Item start;
}
public class Example {
  public static void main(String[] unused) {
  }
}
....

[[pFfMfaklggDxABUyHIoUOomlxdhJNmAX]]
== `LinkedList`: `addToFront`

[source,java]
----
public class LinkedList {
  private Item start;
  public void addToFront(Object value) {
    start = new Item(value, start);
  }
}
----

[.s]
//
* *What is n&mdash;or what feature drives performance?*
//
[.s]#The length of the list.#
//
* What is the performance of `addToFront`?
//
[.s]#O(1): constant time!#

[[eRuvOPCigAcMMwCpOUhtUcBMNSiRoBFb]]
[.oneword]
//
== Wow! What's the catch?
//
(There's always a catch.)

[[uxETPHKiReXjnLMwmpdVNZwTsvFshNbf]]
== `LinkedList`: `get`

[source,java]
----
public class LinkedList {
  private Item start;
  public void addToFront(Object value) {
    start = new Item(value, start);
  }
  public int get(int index) {
    // This should be easy...
  }
}
----

[[ToJOhcQvwLPGrKzyjTctnXGUlpaNgABO]]
== ! `LinkedList` Example

[.janini.smallest.compiler]
....
public class Item {
  private Object value;
  private Item next;
  Item(Object setValue, Item setNext) {
    value = setValue;
    next = setNext;
  }
  public void setNext(Item setNext) {
    next = setNext;
  }
  public Item getNext() {
    return next;
  }
  public Object getValue() {
    return value;
  }
}
public class LinkedList {
  private Item start;
  public void addToFront(Object value) {
    start = new Item(value, start);
  }
  public int get(int index) {
  }
}
public class Example {
  public static void main(String[] unused) {
  }
}
....

[[HIFRUbegMElyTCRryTvdWMzsnTFvAaJp]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class LinkedList {
  public int get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
LinkedList list = new LinkedList();
list.addToFront(1);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  start -> Item1
</div>
++++

[[huaxLPNSoVSkxUbFnCUWqRwuDZQqgJMw]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class LinkedList {
  public int get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
LinkedList list = new LinkedList();
list.addToFront(1);
list.addToFront(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  Item2 [ label = "Item|2" ]
  start -> Item2
  Item2 -> Item1
</div>
++++

[[MtSJPhEljoKufnnBjwnMhJzpMuTmWMFr]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class LinkedList {
  public int get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
LinkedList list = new LinkedList();
list.addToFront(1);
list.addToFront(2);
list.addToFront(3);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[OQXWCIblWobBKVCXOmUNWFOkQhCKuFkj]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class LinkedList {
  public int get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
LinkedList list = new LinkedList();
list.addToFront(1);
list.addToFront(2);
list.addToFront(3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item0 [ label = "Item|1" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item0
</div>
++++

[[uTCRqFIioaWUbZXxmfyHvXYrSAEEPpnH]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class LinkedList {
  public int get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
LinkedList list = new LinkedList();
list.addToFront(1);
list.addToFront(2);
list.addToFront(3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3", fillcolor="lightblue", style="filled" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[IEKNGKZOSoQTcaAWJVuwbUBrlUaleLHp]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class LinkedList {
  public int get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
LinkedList list = new LinkedList();
list.addToFront(1);
list.addToFront(2);
list.addToFront(3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  Item2 [ label = "Item|2", fillcolor="lightblue", style="filled" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[bcglIwAIsYtwxwTorcPMDROVbXnqTSvu]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class LinkedList {
  public int get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
LinkedList list = new LinkedList();
list.addToFront(1);
list.addToFront(2);
list.addToFront(3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1", fillcolor="lightblue", style="filled" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[wOcKkEBJTHkkCcDKpEwCCNYvCSUinhUY]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class LinkedList {
  public int get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
LinkedList list = new LinkedList();
list.addToFront(1);
list.addToFront(2);
list.addToFront(3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1", fillcolor="green", style="filled" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[HukfpNfUOulnnDElwTJYZyNKTvhGgtDM]]
== `ArrayList` v. `LinkedList`

[.lead]
//
Both provide the _same_ functionality, but with different _performance_
characteristics.

[width="100%",cols="^,^,^",options='header']
|===

^| Operation
^| `ArrayList`
^| `LinkedList`

| `add` (at front)
| [.s]#O(n)#
| [.s]#*O(1)*#

| `get` and `set`
| [.s]#*O(1)*#
| [.s]#O(n)#

| `insert` (anywhere)
| [.s]#O(n)#
| [.s]#O(n)#

|===

[[nGsigkJsZbIIiuBueedkjOHenoatcePu]]
== Announcements

* I now have office hours MWF from 10AM&ndash;12PM in Siebel 2227.
//
Please stop by!
//
* Remember to provide feedback on the course using the
//
https://cs125.cs.illinois.edu/info/feedback/[anonymous feedback form].
//
* I've started to respond to existing feedback
//
https://cs125-forum.cs.illinois.edu/c/feedback[on the forum].

// vim: ts=2:sw=2:et
