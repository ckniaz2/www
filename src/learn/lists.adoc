---
title: Lists
date: 2018-10-26
description:
  Practice with big-O notation and analysis of two different list
  implementations.
spelling_exceptions:
  - 3n
  - lookups
---

[[ZrRhHAiZmjGVCqKzTkVDkwpNGYoRBTci]]
== !

[.janini.smallest.compiler]
--
++++
<div class="message">Lists</div>
++++
....
public interface SimpleList {
  public Object get(int index);
  public void set(int index, Object element);
  public void add(int index, Object element);
  public Object remove(int index);
  public int size();
}
public class SimpleArrayList implements SimpleList {
  private Object[] array;

  SimpleArrayList(Object[] originalArray) {
    if (originalArray != null) {
      array = new Object[originalArray.length];
      for (int i = 0; i < originalArray.length; i++) {
        array[i] = originalArray[i];
      }
    }
  }
  public Object get(int index) {
    if (index < 0 || index >= array.length) {
      return null;
    }
    return array[index];
  }
  public void set(int index, Object element) {
    if (index < 0 || index >= array.length) {
      return;
    }
    array[index] = element;
  }
  public int size() {
    return array.length;
  }
  public Object remove(int removeIndex) {
    if (removeIndex < 0 || removeIndex >= array.length) {
      return null;
    }

    Object toReturn = array[removeIndex];

    Object[] newArray = new Object[array.length - 1];
    int originalIndex = 0;
    for (int newIndex = 0; newIndex < newArray.length; newIndex++) {
      if (newIndex == removeIndex) {
        originalIndex++;
      }
      newArray[newIndex] = array[originalIndex];
      originalIndex++;
    }
    array = newArray;
    return toReturn;
  }
  public void add(int addIndex, Object toAdd) {
    if (addIndex < 0 || addIndex > array.length + 1) {
      return;
    }

    Object[] newArray = new Object[array.length + 1];
    int originalIndex = 0;
    for (int newIndex = 0; newIndex < newArray.length; newIndex++) {
      if (newIndex == addIndex) {
        newArray[newIndex] = toAdd;
      } else {
        newArray[newIndex] = array[originalIndex];
        originalIndex++;
      }
    }
    array = newArray;
    return;
  }
}
public class Example {
  public static void main(String[] unused) {
    SimpleList simpleList = new SimpleArrayList(new Integer[] { 1, 2 });
    simpleList.add(2, (Integer) 5);
    for (int i = 0; i < simpleList.size(); i++) {
      System.out.println(simpleList.get(i));
    }
  }
}
....
--

[[UgJrBAbxmpaEtUFaigwcjbLnlTfcIOoF]]
== Review: Algorithm Analysis

[quote]
//
____
//
https://en.wikipedia.org/wiki/Analysis_of_algorithms[Algorithm analysis]:
//
the determination of the computational complexity of algorithms, that is the
amount of time, storage and/or other resources necessary to execute them.
//
____

[[bzGJKlpimKGIHSRpMdozAZQHDQCfHegP]]
== Review: At The Limit

[.lead]
//
We're usually want to analyze an algorithm in the general case, rather than for
a specific set of input.

[.s]
//
* How does the algorithm perform on arbitrarily difficult or large inputs?
//
* What are the best, average, and worst-case running times?
//
* *How is the algorithm's performance related to its inputs?*

[[wZpYuIQdhBkDdYLdffvSWUUvbhDCqzoG]]
== Review: Big-O Notation

[quote]
//
____
//
https://en.wikipedia.org/wiki/Big_O_notation#Product[Big-O notation]
//
is a mathematical notation that describes the limiting behavior of a function
when the argument tends towards a particular value or infinity.
//
____

Put another way: we want to _estimate_ what happens as the problem gets really,
really hard.

[[EQRiDkxGqVDXvndIjCapEccitPnbvEGQ]]
== Review: Big-O Notation

image::https://i.stack.imgur.com/WcBRI.png[role='mx-auto',width=600]

[[ZNOikwniBxwwdnfIrXpGZeDunUmkcdRQ]]
== Data Structure Tradeoffs

[.lead]
//
Depending on how we structure data different implementations of the _same_
interface can have different performance characteristics.

[.s]
//
* We'll start by looking at this with _lists_
//
* Lists that store items using arrays have *fast* (O(1)) lookups but _slow_
(O(n)) modifications
//
* Lists that store items using linked lists have _slow_ lookups (O(n)) but some
insertions are *fast* (O(1))
//
* Both also present different memory usage tradeoffs

[[FLrMUeaPPdghfXdVtAoFhyJeHBGeBJfV]]
== Lists

[.lead]
//
What you have been building on the last few homework problems is a more general
data structure called a _list_.

Lists are an ordered data structure that allow us to:

[.s]
//
* Get and set values at any index (like an array)
//
* Add or remove values at any index (this is new)

[[DPNiZdCroOfieMLMAdqnxFLqxcwBNdOU]]
== ! Java List Interface
++++
<div class="embed-responsive embed-responsive-4by3">
  <iframe class="full embed-responsive-item" src="https://docs.oracle.com/javase/10/docs/api/java/util/List.html"></iframe>
</div>
++++

[[GgjDBubcXoMJtfILfeFlevdxnkSdDZFc]]
== Our List Interface

[source,java]
----
interface SimpleList {
  /** Get the object at this index. */
  public Object get(int index);
  /** Set the object at this index to the passed element. */
  public void set(int index, Object element);
  /** Add the object at the specified location in the list. */
  public void add(int index, Object element);
  /** Remove and return the object at the specified location in the list. */
  public Object remove(int index);
  /** Return the number of elements in the list. */
  public int size();
}
----

(The official Java one contains a bunch of convenience methods that we don't
want.)

[[xgwNeDXDUnbIHYdVeBQSnMWUgdQZRKeO]]
== ! SimpleArrayList

[.janini.smallest.compiler]
....
public interface SimpleList {
  public Object get(int index);
  public void set(int index, Object element);
  public void add(int index, Object element);
  public Object remove(int index);
  public int size();
}
public class SimpleArrayList implements SimpleList {
  private Object[] array;

  SimpleArrayList(Object[] originalArray) {
    if (originalArray != null) {
      array = new Object[originalArray.length];
      for (int i = 0; i < originalArray.length; i++) {
        array[i] = originalArray[i];
      }
    }
  }
  public Object get(int index) {
    if (index < 0 || index >= array.length) {
      return null;
    }
    return array[index];
  }
  public void set(int index, Object element) {
    if (index < 0 || index >= array.length) {
      return;
    }
    array[index] = element;
  }
  public int size() {
    return array.length;
  }
  public Object remove(int removeIndex) {
    if (removeIndex < 0 || removeIndex >= array.length) {
      return null;
    }

    Object toReturn = array[removeIndex];

    Object[] newArray = new Object[array.length - 1];
    int originalIndex = 0;
    for (int newIndex = 0; newIndex < newArray.length; newIndex++) {
      if (newIndex == removeIndex) {
        originalIndex++;
      }
      newArray[newIndex] = array[originalIndex];
      originalIndex++;
    }
    array = newArray;
    return toReturn;
  }
  public void add(int addIndex, Object toAdd) {
    if (addIndex < 0 || addIndex > array.length + 1) {
      return;
    }

    Object[] newArray = new Object[array.length + 1];
    int originalIndex = 0;
    for (int newIndex = 0; newIndex < newArray.length; newIndex++) {
      if (newIndex == addIndex) {
        newArray[newIndex] = toAdd;
      } else {
        newArray[newIndex] = array[originalIndex];
        originalIndex++;
      }
    }
    array = newArray;
    return;
  }
}
public class Example {
  public static void main(String[] unused) {
    SimpleList simpleList = new SimpleArrayList(new Integer[] { 1, 2 });
    simpleList.add(2, (Integer) 5);
    for (int i = 0; i < simpleList.size(); i++) {
      System.out.println(simpleList.get(i));
    }
  }
}
....

[[RKeTiKpLgZNqFXyffdEDXFaatidoieeo]]
== `ArrayList` Operation Performance

[%autowidth.spread,cols="^,^",options='header']
|===

^| Operation
^| `ArrayList`

| `add`
| [.s]#O(n)#

| `get` and `set`
| [.s]#O(1)#

| `remove`
| [.s]#O(n)#

|===

[[jjuOzugQvkSIeJBnLlfaTmqivAFVUVZa]]
[.ss]
== Another Option: Linked Lists

[source,java,role='smallest']
----
public class Item {
  private Object value;
  private Item next;
  Item(Object setValue, Item setNext) {
    value = setValue;
    next = setNext;
  }
}
----

<<<

[[bvukTzGvgbKQdWJiVcbVkzvCLveVTLcR]]
[.ss]
== Another Option: Linked Lists

[source,java,role='smallest']
----
public class Item {
  private Object value;
  private Item next;
  Item(Object setValue, Item setNext) {
    value = setValue;
    next = setNext;
  }
}
Item items = new Item((Integer) 0, null);
----

<<<

++++
<div class="digraph small TB">
  Item [ label = "Item|0" ]
  items -> Item
</div>
++++

[[LNBNtXZglNoDtVpnSUNLBXxXDxLZRmDE]]
[.ss]
== Another Option: Linked Lists

[source,java,role='smallest']
----
public class Item {
  private Object value;
  private Item next;
  Item(Object setValue, Item setNext) {
    value = setValue;
    next = setNext;
  }
}
Item items = new Item((Integer) 0, null);
items = new Item((Integer) 8, items);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item [ label = "Item|0" ]
  Item8 [ label = "Item|8" ]
  items -> Item8
  Item8 -> Item
</div>
++++

[[WAdJPunuCYPRWbuZQvICJKkHNiUoiBsw]]
[.ss]
== Another Option: Linked Lists

[source,java,role='smallest']
----
public class Item {
  private Object value;
  private Item next;
  Item(Object setValue, Item setNext) {
    value = setValue;
    next = setNext;
  }
}
Item items = new Item((Integer) 0, null);
items = new Item((Integer) 8, items);
items = new Item((Integer) 5, items);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item [ label = "Item|0" ]
  Item8 [ label = "Item|8" ]
  Item5 [ label = "Item|5" ]
  items -> Item5
  Item5 -> Item8
  Item8 -> Item
</div>
++++

[[uvyuFIghbYXbXzMNglHaMMhbqqXqKGYL]]
== Another Option: Linked Lists

[source,java,role='smallest']
----
interface SimpleList {
  public Object get(int index);
  public void set(int index, Object element);
  public void add(int index, Object element);
  public Object remove(int index);
  public int size();
}
public class SimpleLinkedList implements SimpleList {
  class Item {
    Object value;
    Item next;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
  private Item start;
}
----

[[ZSZxhdvunjhnZOfkQHuywHedjLhfiZqi]]
== Java Inner Classes

[source,java,role='smallest']
----
public class SimpleLinkedList {
  class Item {
    Object value;
    Item next;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
}
----

[.lead]
//
In Java we can define a class _inside_ another class.

[.s.small]
//
* The example above is known as a _nested_ inner class.
//
* Unlike outer classes, inner classes _can_ be private.
//
* Inner class methods have access to methods and variables in their enclosing
class _even_ if they are marked private.
//
* Here we're using an inner class because the `Item` class should not be visible
outside of the `SimpleLinkedList` class.

[[xsaqFUCXGdWBcvgSrwKjsLHWsYrNDLlh]]
== ! `LinkedList` Example

[.janini.smallest.compiler]
....
public class SimpleLinkedList {
  class Item {
    Object value;
    Item next;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
  private Item start;
}
public class Example {
  public static void main(String[] unused) {
  }
}
....

[[pFfMfaklggDxABUyHIoUOomlxdhJNmAX]]
== `LinkedList`: `addToFront`

[source,java]
----
public class SimpleLinkedList {
  private Item start;
  public void addToFront(Object value) {
    start = new Item(value, start);
  }
}
----

[.s]
//
* *What is n&mdash;or what feature drives performance?*
//
[.s]#The length of the list.#
//
* What is the performance of `addToFront`?
//
[.s]#O(1): constant time!#

[[eRuvOPCigAcMMwCpOUhtUcBMNSiRoBFb]]
[.oneword]
//
== Wow! What's the catch?
//
(There's always a catch.)

[[uxETPHKiReXjnLMwmpdVNZwTsvFshNbf]]
== `LinkedList`: `get`

[source,java]
----
public class SimpleLinkedList {
  private Item start;
  public void addToFront(Object value) {
    start = new Item(value, start);
  }
  public Object get(int index) {
    // This should be easy...
  }
}
----

[[HIFRUbegMElyTCRryTvdWMzsnTFvAaJp]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class SimpleLinkedList {
  public Object get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
SimpleLinkedList list = new SimpleLinkedList();
list.addToFront((Integer) 1);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  start -> Item1
</div>
++++

[[huaxLPNSoVSkxUbFnCUWqRwuDZQqgJMw]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class SimpleLinkedList {
  public Object get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
SimpleLinkedList list = new SimpleLinkedList();
list.addToFront((Integer) 1);
list.addToFront((Integer) 2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  Item2 [ label = "Item|2" ]
  start -> Item2
  Item2 -> Item1
</div>
++++

[[MtSJPhEljoKufnnBjwnMhJzpMuTmWMFr]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class SimpleLinkedList {
  public Object get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
SimpleLinkedList list = new SimpleLinkedList();
list.addToFront((Integer) 1);
list.addToFront((Integer) 2);
list.addToFront((Integer) 3);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[OQXWCIblWobBKVCXOmUNWFOkQhCKuFkj]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class SimpleLinkedList {
  public Object get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
SimpleLinkedList list = new SimpleLinkedList();
list.addToFront((Integer) 1);
list.addToFront((Integer) 2);
list.addToFront((Integer) 3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item0 [ label = "Item|1" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item0
</div>
++++

[[uTCRqFIioaWUbZXxmfyHvXYrSAEEPpnH]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class SimpleLinkedList {
  public Object get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
SimpleLinkedList list = new SimpleLinkedList();
list.addToFront((Integer) 1);
list.addToFront((Integer) 2);
list.addToFront((Integer) 3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3", fillcolor="lightblue", style="filled" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[IEKNGKZOSoQTcaAWJVuwbUBrlUaleLHp]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class SimpleLinkedList {
  public Object get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
SimpleLinkedList list = new SimpleLinkedList();
list.addToFront((Integer) 1);
list.addToFront((Integer) 2);
list.addToFront((Integer) 3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1" ]
  Item2 [ label = "Item|2", fillcolor="lightblue", style="filled" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[bcglIwAIsYtwxwTorcPMDROVbXnqTSvu]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class SimpleLinkedList {
  public Object get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
SimpleLinkedList list = new SimpleLinkedList();
list.addToFront((Integer) 1);
list.addToFront((Integer) 2);
list.addToFront((Integer) 3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1", fillcolor="lightblue", style="filled" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[wOcKkEBJTHkkCcDKpEwCCNYvCSUinhUY]]
[.ss]
== `LinkedList`: `get`

[source,java,role='smaller']
----
public class SimpleLinkedList {
  public Object get(int index) {
    // until I get to the index
    // follow each Item to the next
  }
}
SimpleLinkedList list = new SimpleLinkedList();
list.addToFront((Integer) 1);
list.addToFront((Integer) 2);
list.addToFront((Integer) 3);
list.get(2);
----

<<<

++++
<div class="digraph small TB mx-auto">
  Item1 [ label = "Item|1", fillcolor="green", style="filled" ]
  Item2 [ label = "Item|2" ]
  Item3 [ label = "Item|3" ]
  start -> Item3
  Item3 -> Item2
  Item2 -> Item1
</div>
++++

[[pxuXZdXDaFvnXeerjuOzfTjYXWOCvOan]]
== Linked Lists: Iteration

[source,java,role='smaller']
----
public class SimpleLinkedList {
  private Item start;
}
public class Item {
  public int value;
  public Item next;
}
----

[.lead]
//
We can iterate through our `LinkedList` using a `for` loop.

[[nlYljBaffrrPZfYjSwRRokqjNFrUqSkm]]
== ! `LinkedList` `for`

[.janini.smallest.compiler]
....
public class SimpleLinkedList {
  class Item {
    Object value;
    Item next;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
  private Item start;
  public SimpleLinkedList(Object[] array) {
    for (int i = array.length - 1; i >= 0; i--) {
      this.addToFront(array[i]);
    }
  }

  public void addToFront(Object value) {
    start = new Item(value, start);
  }
}
public class Example {
  public static void main(String[] unused) {
    SimpleLinkedList myList = new SimpleLinkedList(new Integer[] { 1, 2, 3 });
    // Write a for loop using myList
  }
}
....

[[pEPepnOKrIPDRHLzgWbgWtoumQcPZCrp]]
[.oneword]
== But How Do We Insert?

[[nerIYzgfjYucqloclntPXXXuoxWPoXyu]]
== `LinkedList` Insertion Algorithm

[.s]
//
. Find the right spot.
//
. Set the reference on the preceding item to point to the new item.
//
. Set the reference on the new item to point to the former next item.

[[aJqVtwosxLpEzEELSiDrluCkDftdVFsM]]
== Insertion Example

Let's insert value 7 at index 1.

++++
<div class="digraph smaller">
  Item5 [ label = "Item|5" ]
  Item8 [ label = "Item|8" ]
  Item1 [ label = "Item|1" ]
  start -> Item5
  Item5 -> Item8
  Item8 -> Item1
</div>
++++

[[zOwLRABNObeVBCMMXUXervMeZsDHHIaj]]
== Insertion Example

Let's insert value 7 at index 1.

++++
<div class="digraph smaller">
  Item5 [ label = "Item|5" ]
  Item8 [ label = "Item|8", fillcolor="green" style="filled" ]
  Item1 [ label = "Item|1" ]
  start -> Item5
  Item5 -> Item8
  Item8 -> Item1
</div>
++++

[.s]#But wait, now we can't change the _preceding_ reference.#

[[PjJcvbtgFhhtTivglyVutpdqdHgRlGee]]
== Insertion Example

Let's insert value 7 at index 1.

++++
<div class="digraph smaller">
  Item5 [ label = "Item|5", fillcolor="green" style="filled" ]
  Item8 [ label = "Item|8" ]
  Item1 [ label = "Item|1" ]
  start -> Item5
  Item5 -> Item8
  Item8 -> Item1
</div>
++++

[[XWkIZquMkCyhpMAfyVuKtmPLZpMmLTWC]]
== Insertion Example

Let's insert value 7 at index 1.

++++
<div class="digraph smaller">
  Item5 [ label = "Item|5", fillcolor="green" style="filled" ]
  Item8 [ label = "Item|8" ]
  Item1 [ label = "Item|1" ]
  Item7 [ label = "Item|7" ]
  start -> Item5
  Item5 -> Item8
  Item8 -> Item1
  Item1 -> Item7 [style=invis]
</div>
++++

[[axthZIrmKjSLSVsfRpziruJdWPWSsGeO]]
== Insertion Example

Let's insert value 7 at index 1.

++++
<div class="digraph smaller">
  Item5 [ label = "Item|5", fillcolor="green" style="filled" ]
  Item8 [ label = "Item|8" ]
  Item1 [ label = "Item|1" ]
  Item7 [ label = "Item|7" ]
  start -> Item5
  Item5 -> Item7
  Item7 -> Item8 [style=invis]
  Item8 -> Item1
</div>
++++

[[wDhvwOPZturUQaSVCGHRmtTqwKddqKyI]]
== Insertion Example

Let's insert value 7 at index 1.

++++
<div class="digraph smaller">
  Item5 [ label = "Item|5" ]
  Item8 [ label = "Item|8" ]
  Item1 [ label = "Item|1" ]
  Item7 [ label = "Item|7" ]
  start -> Item5
  Item5 -> Item7
  Item7 -> Item8
  Item8 -> Item1
</div>
++++

[[JBKRvvXqROogVmYfdoYBgwwoiInUqLVw]]
== Singly Linked Lists

[source,java,role='smaller']
----
public class SimpleLinkedList {
  class Item {
    Object value;
    Item next;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
  private Item start;
}
----

[.lead]
//
What we've been discussing is known as a _singly_ linked list.

[[ZzkrRixhzKByfLpVbXSoMvNCfoHruinc]]
== Doubly Linked Lists

[source,java,role='smaller']
----
public class SimpleDoublyLinkedList {
  class Item {
    Object value;
    Item next;
    Item previous;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
  private Item start;
  private Item end;
}
----

[.lead]
//
You can also have both forward _and_ backward links. This is known an a
_doubly_ linked list.


[[IrhfppWiBrQzcMyldmluKPgiYlrjJtYj]]
[.ss]
== Doubly Linked Lists

[source,java,role='smallest']
----
public class SimpleDoublyLinkedList {
  class Item {
    Object value;
    Item next;
    Item previous;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
  private Item start;
  private Item end;
}
----

<<<

++++
<div class="digraph small TB">
  Item0 [ label = "Item|0" ]
  Item2 [ label = "Item|2" ]
  Item4 [ label = "Item|4" ]
  start -> Item0
  Item0 -> Item2
  Item2 -> Item0
  Item2 -> Item4
  Item4 -> Item2
  end -> Item4
</div>
++++

[[CmKtLrByiQHzIHiRNpaTpHgpKrJvqQVZ]]
== Time v. Space

[source,java,role='smallest']
----
public class SimpleArrayList {
  private Object[] array;
}
public class SimpleLinkedList {
  class Item {
    Object value;
    Item next;
  }
  private Item start;
}
public class SimpleDoublyLinkedList {
  class Item {
    Object value;
    Item next;
    Item previous;
  }
  private Item start;
  private Item end;
}
----

[.lead]`ArrayList` v. `LinkedList` also represents a _time_ v. _space_ tradeoff.

[.s.small]
//
* `LinkedList` is faster for certain operations...
//
* but consumes more space to store the same amount of information.

[[UZWfhblmpgARaijHSpMHsIAeuXwyWqor]]
== Time v. Space

[source,java,role='smallest']
----
public class SimpleArrayList {
  private Object[] array;
}
public class SimpleLinkedList {
  class Item {
    Object value;
    Item next;
  }
  private Item start;
}
public class SimpleDoublyLinkedList {
  class Item {
    Object value;
    Item next;
    Item previous;
  }
  private Item start;
  private Item end;
}
----

[.lead]
//
To store n ``int``s:

[.s]
//
* `ArrayList`: [.s]#n ``value``s#
//
* `LinkedList`: [.s]#3n (1 `value`, 1 `next`, 1 `previous`)#

[[XRenWLYUsfpGLdlyrLDHyMkeRTSGMukE]]
== ! SimpleArrayList

[.janini.smallest.compiler]
....
public interface SimpleList {
  public Object get(int index);
  public void set(int index, Object element);
  public void add(int index, Object element);
  public Object remove(int index);
  public int size();
}
public class SimpleLinkedList implements SimpleList {
  class Item {
    Object value;
    Item next;
    Item(Object setValue, Item setNext) {
      value = setValue;
      next = setNext;
    }
  }
  private Item start;

  public int size() {
    int currentSize = 0;
    for (Item current = start; current != null; current = current.next) {
      currentSize++;
    }
    return currentSize;
  }
}
public class Example {
  public static void main(String[] unused) {
    SimpleList simpleList = new SimpleLinkedList();
    System.out.println(simpleList.size());
  }
}
....

[[HukfpNfUOulnnDElwTJYZyNKTvhGgtDM]]
== `ArrayList` v. `LinkedList`

[.lead]
//
Both provide the _same_ functionality, but with different _performance_
characteristics.

[%autowidth.spread,cols="^,^,^",options='header']
|===

^| Operation
^| `ArrayList`
^| `LinkedList`

| `add` (at front)
| [.s]#O(n)#
| [.s]#*O(1)*#

| `get` and `set`
| [.s]#*O(1)*#
| [.s]#O(n)#

| `insert` (anywhere)
| [.s]#O(n)#
| [.s]#O(n)#

|===

[[lJcCMyeWhddIzcdhiLSDPvylMQZYwVRV]]
[.oneword]
== Questions About Lists?

[[nGsigkJsZbIIiuBueedkjOHenoatcePu]]
== Announcements

* I now have office hours MWF from 10AM&ndash;12PM in Siebel 2227.
//
Please stop by!
//
* Remember to provide feedback on the course using the
//
https://cs125.cs.illinois.edu/info/feedback/[anonymous feedback form].
//
* I've started to respond to existing feedback
//
https://cs125-forum.cs.illinois.edu/c/feedback[on the forum].

// vim: ts=2:sw=2:et
